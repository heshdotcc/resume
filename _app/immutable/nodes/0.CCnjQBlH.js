import{b as D,e as fe,c as B,a as y,t as p,h as he}from"../chunks/disclose-version.C4ZwK_mv.js";import{a2 as Y,T as S,J as F,S as G,K as E,E as ge,M as _e,F as ve,I as ye,D as we,au as W,a5 as Se,n as pe,a1 as O,av as be,p as b,j as k,l as M,k as X,v as Z,aw as _,ax as ke,g as Me,ay as Te,e as v,h as Ce}from"../chunks/runtime.Bvigir2S.js";import{g as x,d as $,w as f}from"../chunks/index.BKwqHS9b.js";import"../chunks/legacy.CG_-8UeA.js";import{p as m,i as K,o as Ee}from"../chunks/index-client.CmmP_W83.js";import{i as V}from"../chunks/lifecycle.C7CnbkGf.js";import{s as Ie,a as P}from"../chunks/store.CxDs8jop.js";function Ne(t,e,o,n,a){var s=t,i="",c;Y(()=>{if(i===(i=e()??"")){S&&F();return}c!==void 0&&(W(c),c=void 0),i!==""&&(c=G(()=>{if(S){E.data;for(var r=F(),l=r;r!==null&&(r.nodeType!==8||r.data!=="");)l=r,r=ge(r);if(r===null)throw _e(),ve;D(E,l),s=ye(r);return}var d=i+"",u=fe(d);D(we(u),u.lastChild),s.before(u)}))})}function Le(t,e,...o){var n=t,a=pe,s;Y(()=>{a!==(a=e())&&(s&&(W(s),s=null),s=G(()=>a(n,...o)))},Se),S&&(n=E)}function ee(t,e,o,n){var a=t.__attributes??(t.__attributes={});S&&(a[e]=t.getAttribute(e)),a[e]!==(a[e]=o)&&(o==null?t.removeAttribute(e):typeof o!="string"&&Ae(t).includes(e)?t[e]=o:t.setAttribute(e,o))}var H=new Map;function Ae(t){var e=H.get(t.nodeName);if(e)return e;H.set(t.nodeName,e=[]);for(var o,n=O(t),a=Element.prototype;a!==n;){o=be(n);for(var s in o)o[s].set&&e.push(s);n=O(n)}return e}const Ke=!0,rt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ke},Symbol.toStringTag,{value:"Module"}));let U,J;function te(t){if(typeof document>"u")return;clearTimeout(U),clearTimeout(J);const e=document.createElement("style"),o=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);e.appendChild(o);const n=()=>document.head.appendChild(e),a=()=>document.head.removeChild(e);if(typeof window.getComputedStyle<"u"){n(),t(),window.getComputedStyle(e).opacity,a();return}if(typeof window.requestAnimationFrame<"u"){n(),t(),window.requestAnimationFrame(a);return}n(),U=window.setTimeout(()=>{t(),J=window.setTimeout(a,120)},120)}function Q(t){return t.filter(e=>e.length>0)}const ne={getItem:t=>null,setItem:(t,e)=>{}},h=typeof document<"u",Ve=["dark","light","system"],I=f("mode-watcher-mode"),N=f("mode-watcher-theme"),oe=je(),L=De(),re=f(void 0),ae=ze(),q=f(!0),se=f([]),ie=f([]),qe=Fe(),Re=Oe();function je(){const t="system",e=h?localStorage:ne,o=e.getItem(a());let n=A(o)?o:t;function a(){return x(I)}const{subscribe:s,set:i}=f(n,()=>{if(!h)return;const r=l=>{if(l.key!==a())return;const d=l.newValue;A(d)?i(n=d):i(n=t)};return addEventListener("storage",r),()=>removeEventListener("storage",r)});function c(r){i(n=r),e.setItem(a(),n)}return{subscribe:s,set:c}}function ze(){const t=h?localStorage:ne,e=t.getItem(n());let o=e??"";function n(){return x(N)}const{subscribe:a,set:s}=f(o,()=>{if(!h)return;const c=r=>{if(r.key!==n())return;const l=r.newValue;s(l===null?o="":o=l)};return addEventListener("storage",c),()=>removeEventListener("storage",c)});function i(c){s(o=c),t.setItem(n(),o)}return{subscribe:a,set:i}}function De(){let e=!0;const{subscribe:o,set:n}=f(void 0,()=>{if(!h)return;const i=r=>{e&&n(r.matches?"light":"dark")},c=window.matchMedia("(prefers-color-scheme: light)");return c.addEventListener("change",i),()=>c.removeEventListener("change",i)});function a(){if(!h)return;const i=window.matchMedia("(prefers-color-scheme: light)");n(i.matches?"light":"dark")}function s(i){e=i}return{subscribe:o,query:a,tracking:s}}function Fe(){const{subscribe:t}=$([oe,L,re,q,se,ie],([e,o,n,a,s,i])=>{if(!h)return;const c=e==="system"?o:e,r=Q(s),l=Q(i);function d(){const u=document.documentElement,g=document.querySelector('meta[name="theme-color"]');c==="light"?(r.length&&u.classList.remove(...r),l.length&&u.classList.add(...l),u.style.colorScheme="light",g&&n&&g.setAttribute("content",n.light)):(l.length&&u.classList.remove(...l),r.length&&u.classList.add(...r),u.style.colorScheme="dark",g&&n&&g.setAttribute("content",n.dark))}return a?te(d):d(),c});return{subscribe:t}}function Oe(){const{subscribe:t}=$([ae,q],([e,o])=>{if(!h)return;function n(){document.documentElement.setAttribute("data-theme",e)}return o?te(n):n(),e});return{subscribe:t}}function A(t){return typeof t!="string"?!1:Ve.includes(t)}function Pe(t){oe.set(t)}function He(t){ae.set(t)}function Ue({defaultMode:t="system",themeColors:e,darkClassNames:o=["dark"],lightClassNames:n=[],defaultTheme:a="",modeStorageKey:s="mode-watcher-mode",themeStorageKey:i="mode-watcher-theme"}){const c=document.documentElement,r=localStorage.getItem(s)||t,l=localStorage.getItem(i)||a,d=r==="light"||r==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(d?(o.length&&c.classList.remove(...o),n.length&&c.classList.add(...n)):(n.length&&c.classList.remove(...n),o.length&&c.classList.add(...o)),c.style.colorScheme=d?"light":"dark",e){const u=document.querySelector('meta[name="theme-color"]');u&&u.setAttribute("content",r==="light"?e.light:e.dark)}l&&(c.setAttribute("data-theme",l),localStorage.setItem(i,l)),localStorage.setItem(s,r)}var Je=p('<meta name="theme-color">');function Qe(t,e){b(e,!1);let o=m(e,"themeColors",24,()=>{});V();var n=B(),a=k(n);K(a,o,s=>{var i=Je();X(()=>ee(i,"content",o().dark)),y(s,i)}),y(t,n),M()}var Be=p('<meta name="theme-color">'),Ye=p("<!> <!>",1);function Ge(t,e){b(e,!1);let o=m(e,"trueNonce",8,""),n=m(e,"initConfig",8),a=m(e,"themeColors",24,()=>{});V(),he(s=>{var i=Ye(),c=k(i);K(c,a,l=>{var d=Be();X(()=>ee(d,"content",a().dark)),y(l,d)});var r=Z(c,2);Ne(r,()=>`<script${o()?` nonce=${o()}`:""}>(`+Ue.toString()+")("+JSON.stringify(n())+");<\/script>",!1,!1),y(s,i)}),M()}function We(t,e){b(e,!1);const o=Ie(),n=()=>P(I,"$modeStorageKeyStore",o),a=()=>P(N,"$themeStorageKeyStore",o),s=Te();let i=m(e,"track",8,!0),c=m(e,"defaultMode",8,"system"),r=m(e,"themeColors",24,()=>{}),l=m(e,"disableTransitions",8,!0),d=m(e,"darkClassNames",24,()=>["dark"]),u=m(e,"lightClassNames",24,()=>[]),g=m(e,"defaultTheme",8,""),R=m(e,"nonce",8,""),T=m(e,"themeStorageKey",8,"mode-watcher-theme"),C=m(e,"modeStorageKey",8,"mode-watcher-mode"),ce=m(e,"disableHeadScriptInjection",8,!1);Ee(()=>{const w=qe.subscribe(()=>{}),ue=Re.subscribe(()=>{});L.tracking(i()),L.query();const z=localStorage.getItem(n());Pe(A(z)?z:c());const me=localStorage.getItem(a());return He(me||g()),()=>{w(),ue()}});const le={defaultMode:c(),themeColors:r(),darkClassNames:d(),lightClassNames:u(),defaultTheme:g(),modeStorageKey:C(),themeStorageKey:T()};_(()=>v(l()),()=>{q.set(l())}),_(()=>v(r()),()=>{re.set(r())}),_(()=>v(d()),()=>{se.set(d())}),_(()=>v(u()),()=>{ie.set(u())}),_(()=>v(C()),()=>{I.set(C())}),_(()=>v(T()),()=>{N.set(T())}),_(()=>v(R()),()=>{Ce(s,typeof window>"u"?R():"")}),ke(),V();var j=B(),de=k(j);K(de,ce,w=>{Qe(w,{get themeColors(){return r()}})},w=>{Ge(w,{get trueNonce(){return Me(s)},initConfig:le,get themeColors(){return r()}})}),y(t,j),M()}var Xe=p("<!> <!>",1);function at(t,e){b(e,!0);var o=Xe(),n=k(o);We(n,{});var a=Z(n,2);Le(a,()=>e.children),y(t,o),M()}export{at as component,rt as universal};
